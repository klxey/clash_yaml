# ---------------------------------------------------
# ç»ˆæä¼˜åŒ– - v3.9.2 
# Optimized with: QUICé˜»æ–­(é€‚é…Mux) + å¹¿å‘Šæ‹¦æˆª + è·¯å¾„ä¿®æ­£ + é“¾æ¥é˜²è¯¯æŠ¥
# ---------------------------------------------------

# [ä»£ç†è®¢é˜… Provider]
proxy-providers:
  è®¢é˜…1:
    type: http
    url: è®¢é˜…é“¾æ¥1
    interval: 3600
    keep-alive-interval: 1800
    proxy: â™»ï¸ è®¢é˜…æ›´æ–°
    health-check:
      enable: true
      interval: 300
      url: https://cp.cloudflare.com/generate_204
    # [ä¼˜åŒ–] æ’é™¤è¿‡æ»¤å™¨
    exclude-filter: '(?i).*(?:å‰©ä½™|åˆ°æœŸ|é‡ç½®|æµé‡|å¤©æ•°|è·ç¦»|å¥—é¤|è¿‡æœŸ|å¤±æ•ˆ|å»ºè®®|æ›´æ–°|é‡å¯|è¶…æ—¶|expire|traffic|reset|days|left|remain|GB|TB|MB|KB|PB|\d+\.\d+|\d+å¤©|\d+å°æ—¶|%).*'
    override:
      additional-prefix: '[è®¢é˜…1]'
      skip-cert-verify: true
      udp: true
  è®¢é˜…2:
    type: http
    url: è®¢é˜…é“¾æ¥2
    interval: 3600
    keep-alive-interval: 1800
    proxy: â™»ï¸ è®¢é˜…æ›´æ–°
    health-check:
      enable: true
      interval: 300
      url: https://cp.cloudflare.com/generate_204
    exclude-filter: '(?i).*(?:å‰©ä½™|åˆ°æœŸ|é‡ç½®|æµé‡|å¤©æ•°|è·ç¦»|å¥—é¤|è¿‡æœŸ|å¤±æ•ˆ|å»ºè®®|æ›´æ–°|é‡å¯|è¶…æ—¶|expire|traffic|reset|days|left|remain|GB|TB|MB|KB|PB|\d+\.\d+|\d+å¤©|\d+å°æ—¶|%).*'
    override:
      additional-prefix: '[è®¢é˜…2]'
      skip-cert-verify: true
      udp: true

# [åŸºç¡€ç«¯å£è®¾ç½®]
port: 7890
socks-port: 7891
redir-port: 7892
mixed-port: 7893
tproxy-port: 7895
allow-lan: true
mode: rule
log-level: info
ipv6: true

# [ä¼˜åŒ–] å…¨å±€ TLS æŒ‡çº¹
global-client-fingerprint: chrome

# [ä¼˜åŒ–] åŸŸåå—…æ¢å™¨
sniffer:
  enable: true
  force-dns-mapping: true
  parse-pure-ip: true
  override-destination: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  skip-domain:
    - "Mijia Cloud"
    - "+.push.apple.com"

# [ç¼“å­˜è®¾ç½®]
profile:
  store-fake-ip: true
  store-selected: true

unified-delay: true

# [DNS è®¾ç½®]
dns:
  enable: true
  listen: 127.0.0.1:7874
  ipv6: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.0/16
  respect-rules: true
  use-hosts: true
  use-system-hosts: true
  
  # é»˜è®¤ DNS (å›½å†…ä¼˜é€‰)
  nameserver:
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query
  
  # ä»£ç† DNS (è§£æèŠ‚ç‚¹åŸŸå)
  proxy-server-nameserver:
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query
    
  # ç­–ç•¥åˆ†æµ (Meta æ ¸å¿ƒ)
  nameserver-policy:
    "geosite:cn,private":
      - https://dns.alidns.com/dns-query
      - https://doh.pub/dns-query
    "geosite:google,youtube,telegram,gfw,geolocation-!cn":
      - https://8.8.8.8/dns-query
      - https://1.1.1.1/dns-query

  fake-ip-filter:
    - +.lan
    - +.local
    - geosite:cn
    - stun.*
    - time.*
    - ntp.*
    - router.*
    - localhost
    - +.msftconnecttest.com
    - +.msftncsi.com

# [æœ¬åœ°ä»£ç†èŠ‚ç‚¹]
proxies:
  - name: ç›´è¿
    type: direct
  - name: æ‹’ç»
    type: reject

# [MUX å¤šè·¯å¤ç”¨]
mux:
  enable: true
  protocol: h2mux
  max-connections: 8
  min-streams: 4
  padding: true

# [é”šç‚¹å®šä¹‰]
default:
  proxies: &id001
    - ç›´è¿
    - Emby-æ•…è½¬
    - æ‰€æœ‰-æ‰‹åŠ¨
    - æ‰€æœ‰-è‡ªåŠ¨
    - å®¶å®½-æ•…è½¬
    - é¦™æ¸¯-æ•…è½¬
    - å°æ¹¾-æ•…è½¬
    - æ—¥æœ¬-æ•…è½¬
    - æ–°åŠ å¡-æ•…è½¬
    - éŸ©å›½-æ•…è½¬
    - ç¾å›½-æ•…è½¬
    - å¾·å›½-æ•…è½¬
    - è‹±å›½-æ•…è½¬
    - å°ä¼—åœ°åŒº-æ•…è½¬
    - æ‹’ç»
  type: select

# ==============================================
# ç­–ç•¥ç»„ (Proxy Groups)
# ==============================================
proxy-groups:
  - name: â™»ï¸ è®¢é˜…æ›´æ–°
    type: fallback
    # [ä¼˜åŒ–] ä½¿ç”¨ Apple URLï¼Œé˜²æ­¢fallbackåˆ°ç›´è¿æ—¶æ˜¾ç¤ºè¶…æ—¶
    url: "http://www.apple.com/library/test/success.html"
    interval: 300
    proxies:
      - ç›´è¿
      - æ‰€æœ‰-è‡ªåŠ¨
      - é¦™æ¸¯-è‡ªåŠ¨
      - æ—¥æœ¬-è‡ªåŠ¨
      - å°æ¹¾-è‡ªåŠ¨
  - icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/ChatGPT.png
    name: AIï¼ˆå…¨ï¼‰
    proxies: *id001
    type: select
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/github.png
    name: GitHub
    proxies: *id001
    type: select
  - icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/telegram.png
    name: Telegram çº¸é£æœº
    proxies: *id001
    type: select
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/twitter.png
    name: Twitter(X) æ¨ç‰¹
    proxies: *id001
    type: select
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/whatsapp.png
    name: WhatsApp
    proxies: *id001
    type: select
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/facebook.png
    name: Facebook è„¸ä¹¦
    proxies: *id001
    type: select
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/youtube.png
    name: YouTube æ²¹ç®¡
    proxies: *id001
    type: select
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/tiktok.png
    name: TikTok
    proxies: *id001
    type: select
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/disney.png
    name: Disney è¿ªæ–¯å°¼
    proxies: *id001
    type: select
  - icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/netflix.png
    name: Netflix å¥ˆé£
    proxies: *id001
    type: select
  - icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/emby.png
    name: Emby å½±è§†
    proxies: *id001
    type: select
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/spotify.png
    name: Spotify éŸ³ä¹ åšå®¢
    proxies: *id001
    type: select
  - icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/amazon.png
    name: Amazon äºšé©¬é€Š
    proxies: *id001
    type: select
  - icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/apple-light.png
    name: Apple è‹¹æœ
    proxies: *id001
    type: select
  - icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Microsoft.png
    name: Microsoft å¾®è½¯
    proxies: *id001
    type: select
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/google.png
    name: Google è°·æ­Œ
    proxies: *id001
    type: select
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/speedtest.png
    name: Check æµ‹é€Ÿ
    proxies: *id001
    type: select
  - icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/rocket-earth.png
    name: å›½å¤–
    proxies: *id001
    type: select
  - icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/China.png
    name: å›½å†…
    proxies: *id001
    type: select
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/final.png
    name: æ¼ç½‘ä¹‹é±¼
    proxies: *id001
    type: select
  - filter: ^((?!(ç›´è¿|æ‹’ç»)).)*$
    icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/all.png
    include-all: true
    interval: 420
    name: æ‰€æœ‰-æ‰‹åŠ¨
    tolerance: 30
    type: select
    url: https://cp.cloudflare.com/generate_204
  - filter: ^((?!(ç›´è¿|æ‹’ç»)).)*$
    icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/all.png
    include-all: true
    interval: 300
    name: æ‰€æœ‰-è‡ªåŠ¨
    tolerance: 50
    type: url-test
    timeout: 3000
    lazy: true
    url: https://cp.cloudflare.com/generate_204
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/home.png
    interval: 300
    lazy: false
    name: å®¶å®½-æ•…è½¬
    proxies:
      - å®¶å®½-æ‰‹åŠ¨
      - å®¶å®½-è‡ªåŠ¨
    type: fallback
    url: https://cp.cloudflare.com/generate_204
  - filter: (?=.*(å®¶å®½)).*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/iconselect96.png
    include-all: true
    name: å®¶å®½-æ‰‹åŠ¨
    type: select
  - filter: (?=.*(å®¶å®½)).*$
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png
    include-all: true
    interval: 300
    name: å®¶å®½-è‡ªåŠ¨
    tolerance: 50
    type: url-test
    timeout: 3000
    lazy: true
    url: https://cp.cloudflare.com/generate_204
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/Hongkong.png
    interval: 300
    lazy: false
    name: é¦™æ¸¯-æ•…è½¬
    proxies:
      - é¦™æ¸¯-æ‰‹åŠ¨
      - é¦™æ¸¯-è‡ªåŠ¨
    type: fallback
    url: https://cp.cloudflare.com/generate_204
  - filter: (?=.*(å¹¿æ¸¯|é¦™æ¸¯|HK|Hong Kong|ğŸ‡­ğŸ‡°|HongKong)).*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/iconselect96.png
    include-all: true
    name: é¦™æ¸¯-æ‰‹åŠ¨
    type: select
  - filter: (?=.*(å¹¿æ¸¯|é¦™æ¸¯|HK|Hong Kong|ğŸ‡­ğŸ‡°|HongKong)).*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/auto.png
    include-all: true
    interval: 300
    name: é¦™æ¸¯-è‡ªåŠ¨
    tolerance: 50
    type: url-test
    timeout: 3000
    lazy: true
    url: https://cp.cloudflare.com/generate_204
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/Taiwan_China.png
    interval: 300
    lazy: false
    name: å°æ¹¾-æ•…è½¬
    proxies:
      - å°æ¹¾-æ‰‹åŠ¨
      - å°æ¹¾-è‡ªåŠ¨
    type: fallback
    url: https://cp.cloudflare.com/generate_204
  - filter: (?=.*(å¹¿å°|å°æ¹¾|å°ç£|TW|Tai Wan|ğŸ‡¹ğŸ‡¼|ğŸ‡¨ğŸ‡³|TaiWan|Taiwan)).*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/iconselect96.png
    include-all: true
    name: å°æ¹¾-æ‰‹åŠ¨
    type: select
  - filter: (?=.*(å¹¿å°|å°æ¹¾|å°ç£|TW|Tai Wan|ğŸ‡¹ğŸ‡¼|ğŸ‡¨ğŸ‡³|TaiWan|Taiwan)).*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/auto.png
    include-all: true
    interval: 300
    name: å°æ¹¾-è‡ªåŠ¨
    tolerance: 50
    type: url-test
    timeout: 3000
    lazy: true
    url: https://cp.cloudflare.com/generate_204
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/Japan.png
    interval: 300
    lazy: false
    name: æ—¥æœ¬-æ•…è½¬
    proxies:
      - æ—¥æœ¬-æ‰‹åŠ¨
      - æ—¥æœ¬-è‡ªåŠ¨
    type: fallback
    url: https://cp.cloudflare.com/generate_204
  - filter: (?=.*(å¹¿æ—¥|æ—¥æœ¬|JP|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|ğŸ‡¯ğŸ‡µ|Japan)).*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/iconselect96.png
    include-all: true
    name: æ—¥æœ¬-æ‰‹åŠ¨
    type: select
  - filter: (?=.*(å¹¿æ—¥|æ—¥æœ¬|JP|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|ğŸ‡¯ğŸ‡µ|Japan)).*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/auto.png
    include-all: true
    interval: 300
    name: æ—¥æœ¬-è‡ªåŠ¨
    tolerance: 50
    type: url-test
    timeout: 3000
    lazy: true
    url: https://cp.cloudflare.com/generate_204
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/Singapore.png
    interval: 300
    lazy: false
    name: æ–°åŠ å¡-æ•…è½¬
    proxies:
      - æ–°åŠ å¡-æ‰‹åŠ¨
      - æ–°åŠ å¡-è‡ªåŠ¨
    type: fallback
    url: https://cp.cloudflare.com/generate_204
  - filter: (?=.*(å¹¿æ–°|æ–°åŠ å¡|SG|å¡|ç‹®åŸ|ğŸ‡¸ğŸ‡¬|Singapore)).*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/iconselect96.png
    include-all: true
    name: æ–°åŠ å¡-æ‰‹åŠ¨
    type: select
  - filter: (?=.*(å¹¿æ–°|æ–°åŠ å¡|SG|å¡|ç‹®åŸ|ğŸ‡¸ğŸ‡¬|Singapore)).*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/auto.png
    include-all: true
    interval: 300
    name: æ–°åŠ å¡-è‡ªåŠ¨
    tolerance: 50
    type: url-test
    timeout: 3000
    lazy: true
    url: https://cp.cloudflare.com/generate_204
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/Korea.png
    interval: 300
    lazy: false
    name: éŸ©å›½-æ•…è½¬
    proxies:
      - éŸ©å›½-æ‰‹åŠ¨
      - éŸ©å›½-è‡ªåŠ¨
    type: fallback
    url: https://cp.cloudflare.com/generate_204
  - filter: (?=.*(å¹¿éŸ©|éŸ©å›½|éŸ“åœ‹|KR|é¦–å°”|æ˜¥å·|ğŸ‡°ğŸ‡·|Korea)).*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/iconselect96.png
    include-all: true
    name: éŸ©å›½-æ‰‹åŠ¨
    type: select
  - filter: (?=.*(å¹¿éŸ©|éŸ©å›½|éŸ“åœ‹|KR|é¦–å°”|æ˜¥å·|ğŸ‡°ğŸ‡·|Korea)).*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/auto.png
    include-all: true
    interval: 300
    name: éŸ©å›½-è‡ªåŠ¨
    tolerance: 50
    type: url-test
    timeout: 3000
    lazy: true
    url: https://cp.cloudflare.com/generate_204
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/America.png
    interval: 300
    lazy: false
    name: ç¾å›½-æ•…è½¬
    proxies:
      - ç¾å›½-æ‰‹åŠ¨
      - ç¾å›½-è‡ªåŠ¨
    type: fallback
    url: https://cp.cloudflare.com/generate_204
  - filter: (?=.*(å¹¿ç¾|ç¾|US|çº½çº¦|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’|å‡¤å‡°åŸ|è´¹åˆ©è’™|æ‹‰æ–¯|æ´›æ‰|åœ£ä½•å¡|åœ£å…‹æ‹‰|è¥¿é›…|èŠåŠ |ğŸ‡ºğŸ‡¸|United States)).*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/iconselect96.png
    include-all: true
    name: ç¾å›½-æ‰‹åŠ¨
    type: select
  - filter: (?=.*(å¹¿ç¾|ç¾|US|çº½çº¦|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’|å‡¤å‡°åŸ|è´¹åˆ©è’™|æ‹‰æ–¯|æ´›æ‰|åœ£ä½•å¡|åœ£å…‹æ‹‰|è¥¿é›…|èŠåŠ |ğŸ‡ºğŸ‡¸|United States)).*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/auto.png
    include-all: true
    interval: 300
    name: ç¾å›½-è‡ªåŠ¨
    tolerance: 50
    type: url-test
    timeout: 3000
    lazy: true
    url: https://cp.cloudflare.com/generate_204
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/Germany.png
    interval: 300
    lazy: false
    name: å¾·å›½-æ•…è½¬
    proxies:
      - å¾·å›½-æ‰‹åŠ¨
      - å¾·å›½-è‡ªåŠ¨
    type: fallback
    url: https://cp.cloudflare.com/generate_204
  - filter: (?=.*(å¾·å›½|å¾·|DE|Germany|ğŸ‡©ğŸ‡ª)).*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/iconselect96.png
    include-all: true
    name: å¾·å›½-æ‰‹åŠ¨
    type: select
  - filter: (?=.*(å¾·å›½|å¾·|DE|Germany|ğŸ‡©ğŸ‡ª)).*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/auto.png
    include-all: true
    interval: 300
    name: å¾·å›½-è‡ªåŠ¨
    tolerance: 50
    type: url-test
    timeout: 3000
    lazy: true
    url: https://cp.cloudflare.com/generate_204
  - icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/uk.png
    interval: 300
    lazy: false
    name: è‹±å›½-æ•…è½¬
    proxies:
      - è‹±å›½-æ‰‹åŠ¨
      - è‹±å›½-è‡ªåŠ¨
    type: fallback
    url: https://cp.cloudflare.com/generate_204
  - filter: (?=.*(è‹±å›½|è‹±|ä¼¦æ•¦|UK|United Kingdom|ğŸ‡¬ğŸ‡§|London)).*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/iconselect96.png
    include-all: true
    name: è‹±å›½-æ‰‹åŠ¨
    type: select
  - filter: (?=.*(è‹±å›½|è‹±|ä¼¦æ•¦|UK|United Kingdom|ğŸ‡¬ğŸ‡§|London)).*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/auto.png
    include-all: true
    interval: 300
    name: è‹±å›½-è‡ªåŠ¨
    tolerance: 50
    type: url-test
    timeout: 3000
    lazy: true
    url: https://cp.cloudflare.com/generate_204
  - icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Global.png
    interval: 300
    lazy: false
    name: å°ä¼—åœ°åŒº-æ•…è½¬
    proxies:
      - å°ä¼—åœ°åŒº-æ‰‹åŠ¨
      - å°ä¼—åœ°åŒº-è‡ªåŠ¨
    type: fallback
    url: https://cp.cloudflare.com/generate_204
  - filter: ^((?!(ç›´è¿|æ‹’ç»|å¹¿æ¸¯|é¦™æ¸¯|HK|Hong Kong|ğŸ‡­ğŸ‡°|HongKong|å¹¿å°|å°æ¹¾|å°ç£|TW|Tai Wan|ğŸ‡¹ğŸ‡¼|ğŸ‡¨ğŸ‡³|TaiWan|Taiwan|å¹¿æ—¥|æ—¥æœ¬|JP|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|ğŸ‡¯ğŸ‡µ|Japan|å¹¿æ–°|æ–°åŠ å¡|SG|å¡|ç‹®åŸ|ğŸ‡¸ğŸ‡¬|Singapore|å¹¿éŸ©|éŸ©å›½|éŸ“åœ‹|KR|é¦–å°”|æ˜¥å·|ğŸ‡°ğŸ‡·|Korea|å¹¿ç¾|ç¾|US|çº½çº¦|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’|å‡¤å‡°åŸ|è´¹åˆ©è’™|æ‹‰æ–¯|æ´›æ‰|åœ£ä½•å¡|åœ£å…‹æ‹‰|è¥¿é›…|èŠåŠ |ğŸ‡ºğŸ‡¸|United States|å¾·å›½|å¾·|DE|Germany|ğŸ‡©ğŸ‡ª|è‹±å›½|UK|United Kingdom|ä¼¦æ•¦|è‹±|London|ğŸ‡¬ğŸ‡§)).)*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/iconselect96.png
    include-all: true
    name: å°ä¼—åœ°åŒº-æ‰‹åŠ¨
    type: select
  - filter: ^((?!(ç›´è¿|æ‹’ç»|å¹¿æ¸¯|é¦™æ¸¯|HK|Hong Kong|ğŸ‡­ğŸ‡°|HongKong|å¹¿å°|å°æ¹¾|å°ç£|TW|Tai Wan|ğŸ‡¹ğŸ‡¼|ğŸ‡¨ğŸ‡³|TaiWan|Taiwan|å¹¿æ—¥|æ—¥æœ¬|JP|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|ğŸ‡¯ğŸ‡µ|Japan|å¹¿æ–°|æ–°åŠ å¡|SG|å¡|ç‹®åŸ|ğŸ‡¸ğŸ‡¬|Singapore|å¹¿éŸ©|éŸ©å›½|éŸ“åœ‹|KR|é¦–å°”|æ˜¥å·|ğŸ‡°ğŸ‡·|Korea|å¹¿ç¾|ç¾|US|çº½çº¦|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’|å‡¤å‡°åŸ|è´¹åˆ©è’™|æ‹‰æ–¯|æ´›æ‰|åœ£ä½•å¡|åœ£å…‹æ‹‰|è¥¿é›…|èŠåŠ |ğŸ‡ºğŸ‡¸|United States|å¾·å›½|å¾·|DE|Germany|ğŸ‡©ğŸ‡ª|è‹±å›½|UK|United Kingdom|ä¼¦æ•¦|è‹±|London|ğŸ‡¬ğŸ‡§)).)*$
    icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/auto.png
    include-all: true
    interval: 300
    name: å°ä¼—åœ°åŒº-è‡ªåŠ¨
    tolerance: 50
    type: url-test
    timeout: 3000
    lazy: true
    url: https://cp.cloudflare.com/generate_204
  - icon: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/icon/emby.png
    interval: 300
    lazy: false
    name: Emby-æ•…è½¬
    proxies:
      - Embyå½±è§†-æ‰‹åŠ¨
      - Embyå½±è§†-è‡ªåŠ¨
    type: fallback
    url: https://cp.cloudflare.com/generate_204
  - icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/iconselect96.png
    include-all: true
    name: Embyå½±è§†-æ‰‹åŠ¨
    type: select
  - icon: https://raw.githubusercontent.com/ifanrBook/ClashConfig/refs/heads/main/icon/auto.png
    include-all: true
    interval: 300
    name: Embyå½±è§†-è‡ªåŠ¨
    tolerance: 50
    type: url-test
    timeout: 3000
    lazy: true
    url: https://cp.cloudflare.com/generate_204

# [è§„åˆ™æä¾›è€…]
rule-providers:
  # [æ–°å¢] å¹¿å‘Šæ‹¦æˆªè§„åˆ™æº (Meta å®˜æ–¹ç»´æŠ¤)
  Ads:
    behavior: domain
    format: mrs
    path: rules/Ads.mrs
    url: https://gh-proxy.com/https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/category-ads-all.mrs
    interval: 86400
    type: http
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
  
  AI_Domain:
    behavior: domain
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/AI_Domain.mrs
    type: http
    url: https://gh-proxy.com/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/refs/heads/meta/geo/geosite/category-ai-!cn.mrs
  Amazon_Domain:
    behavior: domain
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/Amazon_Domain.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/amazon.mrs
  Apple_Domain:
    behavior: domain
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/Apple_Domain.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/apple.mrs
  Check_Domain:
    behavior: classical
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: text
    interval: 86400
    path: rules/Check_Domain.list
    type: http
    url: https://gh-proxy.com/https://raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Check.list
  China_Domain:
    behavior: domain
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/China_Domain.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/cn.mrs
  China_IP:
    behavior: ipcidr
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/China_IP.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geoip/cn.mrs
  Crunchyroll_Domain:
    behavior: classical
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: text
    interval: 86400
    path: rules/Crunchyroll_Domain.list
    type: http
    url: https://gh-proxy.com/https://raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Crunchyroll.list
  Direct_Domain:
    behavior: classical
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: text
    interval: 86400
    path: rules/Direct_Domain.list
    type: http
    url: https://gh-proxy.com/https://raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Direct.list
  Disney_Domain:
    behavior: domain
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/Disney_Domain.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/disney.mrs
  Emby_Domain:
    type: http
    behavior: classical
    format: text
    path: rules/Emby_Domain.list
    url: "https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Emby/Emby.list"
    interval: 86400
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
  Facebook_Domain:
    behavior: domain
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/Facebook_Domain.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/facebook.mrs
  GitHub_Domain:
    behavior: domain
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/GitHub_Domain.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/github.mrs
  Global_Domain:
    behavior: classical
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: text
    interval: 86400
    path: rules/Global_Domain.list
    type: http
    url: https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Global/Global.list
  Google_Domain:
    behavior: domain
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/Google_Domain.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/google.mrs
  Google_IP:
    behavior: ipcidr
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/Google_IP.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geoip/google.mrs
  IP_Rules:
    behavior: ipcidr
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/IP_Rules.mrs
    type: http
    url: https://gh-proxy.com/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/refs/heads/meta/geo/geoip/private.mrs
  Microsoft_Domain:
    behavior: domain
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/Microsoft_Domain.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/microsoft.mrs
  Netflix_Domain:
    behavior: domain
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/Netflix_Domain.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/netflix.mrs
  Netflix_IP:
    behavior: ipcidr
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/Netflix_IP.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geoip/netflix.mrs
  Nvidia_Domain:
    behavior: classical
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: text
    interval: 86400
    path: rules/Nvidia_Domain.list
    type: http
    url: https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Nvidia/Nvidia.list
  Private_Domain:
    behavior: domain
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/Private_Domain.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/private.mrs
  Reddit_Domain:
    behavior: domain
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/Reddit_Domain.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/reddit.mrs
  Spotify_Domain:
    behavior: domain
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/Spotify_Domain.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/spotify.mrs
  Telegram_Domain:
    behavior: domain
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/Telegram_Domain.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/telegram.mrs
  Telegram_IP:
    behavior: ipcidr
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/Telegram_IP.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geoip/telegram.mrs
  TikTok_Domain:
    behavior: domain
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/TikTok_Domain.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/tiktok.mrs
  Twitter_Domain:
    behavior: domain
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/Twitter_Domain.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/x.mrs
  WhatsApp_Domain:
    behavior: classical
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: text
    interval: 86400
    path: rules/WhatsApp_Domain.list
    type: http
    url: https://gh-proxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Whatsapp/Whatsapp.list
  Youtube_Domain:
    behavior: domain
    download-detour: â™»ï¸ è®¢é˜…æ›´æ–°
    format: mrs
    interval: 86400
    path: rules/Youtube_Domain.mrs
    type: http
    url: https://gh-proxy.com/https://github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/youtube.mrs

# ==============================================
# åˆ†æµè§„åˆ™
# ==============================================
rules:
  # [é‡ç‚¹] æ‹’ç» UDP 443 (QUIC)ï¼Œå¼ºåˆ¶ Youtube/Netflix èµ° TCPï¼Œä»è€Œäº«å— Mux å¤šè·¯å¤ç”¨åŠ é€Ÿ
  - AND,((NETWORK,UDP),(DST-PORT,443)),æ‹’ç»

  # [å¸¸è§„] NTP å’Œ STUN ç›´è¿
  - AND,((NETWORK,UDP),(DST-PORT,123)),ç›´è¿
  - AND,((NETWORK,UDP),(DST-PORT,3478)),ç›´è¿
  
  # [æ–°å¢] å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,Ads,æ‹’ç»
  
  - RULE-SET,Check_Domain,Check æµ‹é€Ÿ
  - RULE-SET,AI_Domain,AIï¼ˆå…¨ï¼‰
  - RULE-SET,GitHub_Domain,GitHub
  - RULE-SET,Telegram_Domain,Telegram çº¸é£æœº
  - RULE-SET,Telegram_IP,Telegram çº¸é£æœº,no-resolve
  - RULE-SET,Twitter_Domain,Twitter(X) æ¨ç‰¹
  - RULE-SET,WhatsApp_Domain,WhatsApp
  - RULE-SET,Facebook_Domain,Facebook è„¸ä¹¦
  - RULE-SET,Amazon_Domain,Amazon äºšé©¬é€Š
  - RULE-SET,Apple_Domain,Apple è‹¹æœ
  - RULE-SET,Microsoft_Domain,Microsoft å¾®è½¯
  - RULE-SET,Youtube_Domain,YouTube æ²¹ç®¡
  - RULE-SET,TikTok_Domain,TikTok
  - RULE-SET,Netflix_Domain,Netflix å¥ˆé£
  - RULE-SET,Netflix_IP,Netflix å¥ˆé£,no-resolve
  - RULE-SET,Emby_Domain,Emby å½±è§†
  - RULE-SET,Disney_Domain,Disney è¿ªæ–¯å°¼
  - RULE-SET,Spotify_Domain,Spotify éŸ³ä¹ åšå®¢
  - RULE-SET,Google_Domain,Google è°·æ­Œ
  - RULE-SET,Google_IP,Google è°·æ­Œ,no-resolve
  - RULE-SET,Global_Domain,å›½å¤–
  - RULE-SET,Direct_Domain,å›½å†…
  - RULE-SET,China_Domain,å›½å†…
  - RULE-SET,China_IP,å›½å†…,no-resolve
  - RULE-SET,Private_Domain,å›½å†…
  - GEOIP,CN,å›½å†…
  - MATCH,æ¼ç½‘ä¹‹é±¼

# [TUN æ¨¡å¼]
tun:
  enable: true
  stack: gvisor
  device: utun
  auto-route: true
  auto-detect-interface: true
  strict-route: true
  dns-hijack:
    - any:53
    - tcp://any:53
    - tcp://any:853
  auto-redirect: false
  endpoint-independent-nat: true```
